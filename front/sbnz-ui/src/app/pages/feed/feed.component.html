<div class="feed">
  <!-- OBJAVE PRIJATELJA -->
  <h2>Objave prijatelja</h2>
  <div *ngIf="friendsLoading">UÄitavamâ€¦</div>
  <p class="error" *ngIf="friendsError">{{ friendsError }}</p>
  <div class="empty" *ngIf="!friendsLoading && !friendsError && friends.length === 0">
    Nema novih objava prijatelja.
  </div>

  <article class="card" *ngFor="let p of friends">
    <div class="meta">
      <span class="date">{{ toDate(p.createdAtEpochMs) | date:'short' }}</span>
      <span class="likes">ğŸ‘ {{ p.likes }}</span>
      <span class="reports" *ngIf="p.reports > 0">ğŸš© {{ p.reports }}</span>
    </div>
    <div class="text">{{ p.text }}</div>
    <div class="tags" *ngIf="p.hashtags?.length">{{ tagsJoin(p.hashtags) }}</div>
  </article>

  <div class="pager" *ngIf="friends.length < friendsTotal && !friendsLoading">
    <button (click)="loadFriends()">UÄitaj joÅ¡</button>
  </div>

  <hr>

  <!-- PREPORUÄŒENO -->
  <h2>PreporuÄeno</h2>
  <div *ngIf="recLoading">UÄitavamâ€¦</div>
  <p class="error" *ngIf="recError">{{ recError }}</p>

  <ng-container *ngIf="!recError">
    <div class="empty" *ngIf="!recLoading && recs.length === 0">
      JoÅ¡ uvek nema preporuka.
    </div>

    <article class="card" *ngFor="let r of recs">
      <div class="meta">
        <span class="date">{{ toDate(r.post.createdAtEpochMs) | date:'short' }}</span>
        <span class="likes">ğŸ‘ {{ r.post.likes }}</span>
        <span class="score">â­ {{ r.score }}</span>
      </div>
      <div class="text">{{ r.post.text }}</div>
      <div class="tags" *ngIf="r.post.hashtags?.length">{{ tagsJoin(r.post.hashtags) }}</div>
      <div class="reasons" *ngIf="r.reasons?.length">
        <span class="reason" *ngFor="let why of r.reasons">â€¢ {{ why }}</span>
      </div>
    </article>
  </ng-container>
</div>
